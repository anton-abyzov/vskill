# ==================================================
# Kafka Producer Configuration - High Throughput
# ==================================================

# Bootstrap servers
bootstrap.servers=kafka-0.example.com:9093,kafka-1.example.com:9093,kafka-2.example.com:9093

# Client ID
client.id=my-producer-high-throughput

# ==================================================
# Serialization
# ==================================================

key.serializer=org.apache.kafka.common.serialization.StringSerializer
value.serializer=org.apache.kafka.common.serialization.StringSerializer

# ==================================================
# Acknowledgment & Durability
# ==================================================

# Acknowledgment level (0=none, 1=leader, all=all replicas)
acks=1

# Retries on transient errors
retries=3

# Retry backoff
retry.backoff.ms=100

# ==================================================
# Batching & Throughput
# ==================================================

# Batch size (64 KB for high throughput)
batch.size=65536

# Linger time (wait 100ms to fill batch)
linger.ms=100

# Buffer memory (64 MB)
buffer.memory=67108864

# Max in-flight requests per connection
max.in.flight.requests.per.connection=5

# ==================================================
# Compression
# ==================================================

# Compression type (lz4 for speed, gzip for ratio)
compression.type=lz4

# ==================================================
# Timeouts
# ==================================================

# Request timeout
request.timeout.ms=30000

# Delivery timeout (includes retries)
delivery.timeout.ms=120000

# Max block time (when buffer full)
max.block.ms=60000

# ==================================================
# Partitioning
# ==================================================

# Partitioner class (default uses key hash)
partitioner.class=org.apache.kafka.clients.producer.internals.DefaultPartitioner

# ==================================================
# Idempotence (Optional, for exactly-once)
# ==================================================

# Enable idempotence (requires acks=all, retries>0, max.in.flight<=5)
enable.idempotence=false

# Transactional ID (required for transactions)
# transactional.id=my-transaction-id

# ==================================================
# Security - SSL/TLS
# ==================================================

# Security protocol
security.protocol=SASL_SSL

# SSL truststore
ssl.truststore.location=/etc/kafka/secrets/client.truststore.jks
ssl.truststore.password=changeme

# SSL keystore (for mutual TLS)
# ssl.keystore.location=/etc/kafka/secrets/client.keystore.jks
# ssl.keystore.password=changeme
# ssl.key.password=changeme

# ==================================================
# Security - SASL
# ==================================================

# SASL mechanism
sasl.mechanism=SCRAM-SHA-512

# SASL JAAS configuration
sasl.jaas.config=org.apache.kafka.common.security.scram.ScramLoginModule required \\
  username="producer-user" \\
  password="producer-password";

# ==================================================
# Metrics & Monitoring
# ==================================================

# Metrics reporters
metric.reporters=

# Metrics recording level
metrics.recording.level=INFO
